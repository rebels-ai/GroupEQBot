# Storage
`GroupEQBot` utilises Elasticsearch database to store registered events.

## Indexes
The list of indexes utilized within the system.

#### GroupUsers
Index name pattern: `{botNameVersion}-group-users-{chatID}`

Description: index, declared for each group bot is added, containing list of users and their metadata including validation info.

Schema:
```bash
[
        userID: Long (userID generated by Telegram)
        event: {
          status:
                {
                    currnet_status: Text
                    change_history_status:  {status: Date}
                },
          metadata:
                {
                    change_history_firstname: {firstname: Date, firstname: Date}
                    change_history_lastname: {lastname: Date, lastname: Date}
                    change_history_username: {username: Date, username: Date}
                },
          validation:
                {
                    passed: Boolean  (by default False)
                    start_time: Date (by default None)
                    end_time: Date   (by default None)
                }
            
          statistics:
                {
                    total_messages_count: Long
                }
        }
        created: Date
]
```

#### GroupEvents
Description:
Schema:

#### BotMetadata
Description:
Schema:

#### BotEvents
Description:
Schema:

#### ChatsNameIDMappings
Description:
Schema:



### Storage Connectors
The way storage connector is build is controlled from `GroupEQBot configurations` file with `which_host_to_use` attribute.
```
- For local development use: "localhost" (meaning main application is running on local machine and DB in container)
- For docker development use: "container" (meaning main application is running in container and DB in container)
```




